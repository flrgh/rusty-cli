diff --git t/resty/options.t t/resty/options.t
index 75222b9..c9275bc 100644
--- t/resty/options.t
+++ t/resty/options.t
@@ -28,7 +28,7 @@ print("arg 3: ", arg[3])
 --- opts: -V
 --- out
 --- err_like eval
-qr/^resty \d+.\d{2}
+qr/^rusty [\d+.]+
 nginx version: /s
 --- ret: 0
 
@@ -37,87 +37,75 @@ nginx version: /s
 === TEST 3: -h
 --- opts: -h
 --- out
-resty [options] [lua-file [args]]
+Usage: rusty-cli [OPTIONS] [lua-file] [args]...
 
-Options:
-    -c NUM              Set maximal connection count (default: 64).
-    -e PROG             Run the inlined Lua code in "prog".
-
-    --errlog-level LEVEL
-                        Set nginx error_log level.
-                        Can be debug, info, notice, warn, error, crit, alert,
-                        or emerg.
-
-    --gdb               Use GDB to run the underlying nginx C process.
-
-    --gdb-opts OPTS     Pass extra command-line options to GDB.
-
-    --help              Print this help.
-
-    --http-conf CONF    Specifies nginx.conf snippet inserted into the http {}
-                        configuration block (multiple instances are supported).
-
-    --http-include PATH Include the specified file in the nginx http
-                        configuration block (multiple instances are supported).
-
-    -I DIR              Add dir to the search paths for Lua libraries.
-
-    -j dump             Use LuaJIT's jit.dump module to output detailed info of
-                        the traces generated by the JIT compiler.
-
-    -j off              Turn off the LuaJIT JIT compiler.
-
-    -j v                Use LuaJIT's jit.v module to output brief info of the
-                        traces generated by the JIT compiler.
-
-    -l LIB              Require library "lib".
-
-    --main-conf CONF    Specifies nginx.conf snippet inserted into the nginx
-                        main {} configuration block (multiple instances are
-                        supported).
-
-    --main-include PATH Include the specified file in the nginx main
-                        configuration block (multiple instances are supported).
-
-    --nginx             Specify the nginx path (this option might be removed
-                        in the future).
-
-    --no-stream         Disable the stream {} configuration in auto-generated
-                        nginx.conf.
-
-    --ns IP             Specify a custom name server (multiple instances are
-                        supported).
-
-    --resolve-ipv6      Make the nginx resolver lookup both IPv4 and IPv6
-                        addresses.
+Arguments:
+  [lua-file]
+          
+  [args]...
+          
 
-    --rr                Use Mozilla rr to record the execution of the
-                        underlying nginx C process.
-
-    --shdict 'NAME SIZE'
-                        Create the specified lua shared dicts in the http
-                        configuration block (multiple instances are supported).
-
-    --stap
-                        Use sysetmtap to run the underlying nginx C process.
-
-    --stap-opts OPTS
-                        Pass extra systemtap command line options.
-
-    --user-runner CMD   Use CMD as user runner for the underlying nginx process.
-
-    -V                  Print version numbers and nginx configurations.
-
-    --valgrind          Use valgrind to run nginx.
-
-    --valgrind-opts OPTS
-                        Pass extra options to valgrind.
-
-For bug reporting instructions, please see:
-
-    <https://openresty.org/en/community.html>
-
-Copyright (C) Yichun Zhang (agentzh). All rights reserved.
+Options:
+  -V
+          Print version numbers and nginx configurations.
+  -I <DIR>
+          Add dir to the search paths for Lua libraries.
+  -e <PROG>
+          Run the inlined Lua code in "prog".
+  -l <LIB>
+          require lua library "lib"
+  -j <OPT>
+          LuaJIT option:
+          
+          -j dump    Use LuaJIT's jit.dump module to output detailed info of
+                     the traces generated by the JIT compiler.
+          
+          -j off     Turn off the LuaJIT JIT compiler.
+          
+          -j v       Use LuaJIT's jit.v module to output brief info of the
+                     traces generated by the JIT compiler. [possible values: v, dump, off]
+  -c <NUM>
+          Set maximal connection count [default: 64]
+      --ns <IP>
+          Specify a custom name server (multiple instances are supported).
+      --shdict <NAME SIZE>
+          Create the specified lua shared dicts in the http configuration block (multiple instances are supported).
+      --nginx <PATH>
+          Specify the nginx path (this option might be removed in the future).
+      --http-conf <CONF>
+          Specifies nginx.conf snippet inserted into the http {} configuration block (multiple instances are supported).
+      --stream-conf <CONF>
+          Disable the stream {} configuration in auto-generated nginx.conf.
+      --main-conf <CONF>
+          Specifies nginx.conf snippet inserted into the nginx main {} configuration block (multiple instances are supported).
+      --http-include <PATH>
+          Include the specified file in the nginx http configuration block (multiple instances are supported).
+      --main-include <PATH>
+          Include the specified file in the nginx main configuration block (multiple instances are supported).
+      --valgrind
+          Use valgrind to run nginx.
+      --valgrind-opts <OPTS>
+          Pass extra options to valgrind.
+      --errlog-level <LEVEL>
+          Set nginx error_log level. [possible values: debug, info, notice, warn, error, crit, alert, emerg]
+      --resolve-ipv6
+          Make the nginx resolver lookup both IPv4 and IPv6 addresses.
+      --user-runner <user-runner>
+          Use CMD as user runner for the underlying nginx process.
+      --stap
+          Use sysetmtap to run the underlying nginx C process.
+      --stap-opts <stap-opts>
+          Pass extra systemtap command line options.
+      --gdb
+          Use GDB to run the underlying nginx C process.
+      --gdb-opts <gdb-opts>
+          Pass extra command-line options to GDB.
+      --no-stream
+          Specifies nginx.conf snippet inserted into the nginx stream {} configuration block (multiple instances are supported).
+      --rr
+          Use Mozilla rr to record the execution of the underlying nginx C process.
+  -h, --help
+          Print help (see more with '--help')
 --- err
 --- ret: 0
 
@@ -444,8 +432,9 @@ resolver 127.0.0.1;
 --- src
 --- out
 --- err
-ERROR: Invalid --ns option value: invalid
-  (expecting an IP address)
+error: invalid value 'invalid' for '--ns <IP>': invalid IP address syntax
+
+For more information, try '--help'.
 --- ret: 255
 
 
@@ -466,7 +455,11 @@ yes
 print("hi")
 --- out
 --- err
-ERROR: options --gdb and --valgrind cannot be specified at the same time.
+error: the argument '--valgrind' cannot be used with '--gdb'
+
+Usage: rusty-cli --valgrind <lua-file> [args]...
+
+For more information, try '--help'.
 --- ret: 25
 
 
@@ -477,7 +470,11 @@ ERROR: options --gdb and --valgrind cannot be specified at the same time.
 print("hi")
 --- out
 --- err
-ERROR: options --gdb and --rr cannot be specified at the same time.
+error: the argument '--gdb' cannot be used with '--rr'
+
+Usage: rusty-cli --gdb <lua-file> [args]...
+
+For more information, try '--help'.
 --- ret: 25
 
 
@@ -488,7 +485,11 @@ ERROR: options --gdb and --rr cannot be specified at the same time.
 print("hi")
 --- out
 --- err
-ERROR: options --rr and --valgrind cannot be specified at the same time.
+error: the argument '--rr' cannot be used with '--valgrind'
+
+Usage: rusty-cli --rr <lua-file> [args]...
+
+For more information, try '--help'.
 --- ret: 25
 
 
